<div class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6">
  <!-- Header with Import Button -->
  <div class="max-w-4xl mx-auto">
    <div class="flex justify-between items-center mb-8">
      <h1 class="text-2xl font-bold text-gray-800 hidden md:block">Gestion des Cours</h1>
      <button
        (click)="goToImportScreen()"
        class="group flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white px-4 py-2.5 rounded-lg shadow-md transition-all duration-300 hover:shadow-lg transform hover:-translate-y-0.5"
      >
        <i class="bi bi-file-earmark-arrow-down-fill transition-transform duration-300 group-hover:scale-110"></i>
        <span>Importer les cours</span>
      </button>
    </div>

    <!-- Form Container with subtle animation -->
    <div class="bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-500 hover:shadow-xl">
      <!-- Form Header with improved gradient -->
      <div class="bg-gradient-to-r from-green-600 to-green-700 px-6 py-5 flex items-center">
        <i class="bi bi-journal-text text-white text-xl mr-3"></i>
        <h2 class="text-xl font-semibold text-white">Nouveau Cours</h2>
      </div>
      
      <!-- Form Content with improved spacing -->
      <div class="p-8">
        <form (submit)="onSubmit(f)" #f="ngForm" class="space-y-7">
          <!-- Title with floating label effect -->
          <div class="relative group">
            <div class="flex items-center mb-1.5">
              <i class="bi bi-type-h1 text-green-600 mr-2"></i>
              <label class="text-sm font-medium text-gray-700">Titre</label>
            </div>
            <input
              type="text"
              name="title"
              required
              ngModel
              class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
              placeholder="Entrez le titre du cours"
            />
            <div class="absolute bottom-0 left-0 h-0.5 bg-green-600 transform scale-x-0 group-focus-within:scale-x-100 transition-transform duration-300 origin-left"></div>
          </div>

          <!-- Date with calendar icon -->
          <div class="relative group">
            <div class="flex items-center mb-1.5">
              <i class="bi bi-calendar-event text-green-600 mr-2"></i>
              <label class="text-sm font-medium text-gray-700">Date</label>
            </div>
            <input
              type="date"
              name="date"
              required
              ngModel
              class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
            />
          </div>

          <!-- Time & Tolerance with improved grid -->
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Start Time -->
            <div class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-clock text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Heure de début</label>
              </div>
              <input
                type="time"
                name="hour_debut"
                required
                ngModel
                class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
              />
            </div>

            <!-- End Time -->
            <div class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-clock-history text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Heure de fin</label>
              </div>
              <input
                type="time"
                name="hour_fin"
                required
                ngModel
                class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
              />
            </div>

            <!-- Tolerance -->
            <div class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-stopwatch text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Tolérance (min)</label>
              </div>
              <input
                type="number"
                name="tolerance"
                required
                [ngModel]="10"
                min="0"
                max="60"
                class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
              />
            </div>
          </div>

          <!-- Faculty, Promotion, Group with improved select styling -->
          <div [ngClass]="role == 'super-admin' ? 'md:grid-cols-3' : 'md:grid-cols-2'" class="grid gap-6">
            <!-- Faculty (Super Admin only) -->
            <div *ngIf="role == 'super-admin'" class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-building text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Faculté</label>
              </div>
              <div class="relative">
                <select
                  name="faculte"
                  ngModel
                  #faculte
                  (change)="faculteChange(faculte.value)"
                  class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md appearance-none"
                >
                  <option value="" disabled selected>Sélectionner la faculté</option>
                  <option value="medecine">Médecine</option>
                  <option value="pharmacie">Pharmacie</option>
                  <option value="dentaire">Dentaire</option>
                  <option value="fsts">FSTS</option>
                  <option value="sante public">Santé Publique</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                  <i class="bi bi-chevron-down text-green-600"></i>
                </div>
              </div>
            </div>

            <!-- Promotion -->
            <div class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-mortarboard text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Promotion</label>
              </div>
              <div class="relative">
                <select
                  name="promotion"
                  ngModel
                  class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md appearance-none"
                >
                  <option value="" disabled selected>Sélectionner la promotion</option>
                  <option value="1ère annee">1ère année</option>
                  <option value="2ème annee">2ème année</option>
                  <option value="3ème annee">3ème année</option>
                  <option value="4ème annee">4ème année</option>
                  <option *ngIf="selectedFaculte !== 'fsts'" value="5ème annee">5ème année</option>
                  <option *ngIf="selectedFaculte !== 'fsts'" value="6ème annee">6ème année</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                  <i class="bi bi-chevron-down text-green-600"></i>
                </div>
              </div>
            </div>

            <!-- Group -->
            <div class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-people text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Groupe</label>
              </div>
              <input
                type="number"
                name="groupe"
                ngModel
                min="1"
                class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
                placeholder="Numéro de groupe"
              />
            </div>
          </div>

          <!-- Option Field (FSTS only) with animation -->
          <div *ngIf="selectedFaculte == 'fsts'" class="relative group animate-fadeIn">
            <div class="flex items-center mb-1.5">
              <i class="bi bi-list-check text-green-600 mr-2"></i>
              <label class="text-sm font-medium text-gray-700">Option</label>
            </div>
            <div class="relative">
              <select
                name="option"
                ngModel
                class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md appearance-none"
              >
                <option value="" disabled selected>Sélectionner l'option</option>
                <option value="LPIP">Infirmier Polyvalent</option>
                <option value="LPINP">Infirmier en Néonatologie et Pédiatrie</option>
                <option value="LPIBO">Infirmier au Bloc Opératoire</option>
                <option value="LPIAR">Infirmier en Anesthésie Réanimation</option>
                <option value="LPOR">Orthophonie</option>
                <option value="LPOT">Orthoptie</option>
                <option value="LPPSY">Psychomotricité</option>
                <option value="LPKIN">Kinésithérapie</option>
                <option value="LPIM">Imagerie Médicale</option>
                <option value="LPTL">Technicien de Laboratoire</option>
                <option value="LPDN">Nutrition et Diététique</option>
                <option value="LPSF">Sage-femme</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <i class="bi bi-chevron-down text-green-600"></i>
              </div>
            </div>
          </div>

          <!-- Submit Button with improved animation -->
          <div class="pt-6">
            <button
              type="submit"
              class="group w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-medium py-3.5 px-4 rounded-lg shadow-md transition-all duration-300 hover:shadow-lg transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50"
            >
              <div class="flex items-center justify-center space-x-2">
                <i class="bi bi-send transition-transform duration-300 group-hover:translate-x-1"></i>
                <span>Enregistrer le cours</span>
              </div>
            </button>
          </div>
        </form>
      </div>
    </div>
    
    <!-- Form footer with help text -->
    <div class="mt-4 text-center text-sm text-gray-500">
      <p>Tous les champs marqués sont obligatoires</p>
    </div>
  </div>
</div>

<!-- Improved loading overlay with animation -->
<div *ngIf="loading" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fadeIn">
  <div class="bg-white p-8 rounded-xl shadow-2xl flex flex-col items-center animate-slideIn">
    <div class="w-16 h-16 border-4 border-t-green-600 border-r-green-600 border-b-green-300 border-l-green-300 rounded-full animate-spin mb-4"></div>
    <p class="text-green-700 font-medium text-lg">Enregistrement en cours...</p>
  </div>
</div>