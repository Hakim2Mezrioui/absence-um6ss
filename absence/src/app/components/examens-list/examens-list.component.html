<div class="flex flex-col md:flex-row justify-between items-center gap-4 p-4 bg-white rounded-lg shadow-sm border border-gray-100">
  <!-- Barre de recherche élégante -->
  <div class="relative w-full md:w-auto flex-1">
    <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
      <i class="bi bi-search text-gray-400"></i>
    </div>
    <input
      #searchVal
      type="text"
      class="w-full pl-10 pr-4 py-2.5 text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"
      placeholder="Rechercher un examen..."
      (keydown.enter)="handleSearch(searchVal.value)"
    />
    <button
      (click)="handleSearch(searchVal.value)"
      class="absolute right-2.5 bottom-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-3 py-1 text-sm transition-colors"
    >
      <i class="bi bi-arrow-right"></i>
    </button>
  </div>

  <!-- Menu déroulant élégant -->
  <div *ngIf="role == 'super-admin' || role == 'admin'" class="w-full md:w-auto">
    <div class="relative inline-block text-left">
      <button
        type="button"
        (click)="toggleDropdown()"
        class="inline-flex items-center gap-2 rounded-md bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2 text-sm font-medium text-white shadow hover:from-blue-700 hover:to-blue-600 transition"
      >
        <i class="bi bi-funnel-fill"></i>
        Filtrer par faculté
        <svg
          class="w-4 h-4 transition-transform duration-200"
          [ngClass]="{ 'rotate-180': isDropdownOpen }"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
        </svg>
      </button>
    
      <!-- Dropdown -->
      <div
        class="absolute left-1/2 transform -translate-x-1/2 mt-2 z-20 mt-2 w-64 rounded-xl bg-white shadow-xl ring-1 ring-gray-200 transition transform origin-top scale-95 opacity-0 pointer-events-none"
        [ngClass]="{
          'scale-100 opacity-100 pointer-events-auto': isDropdownOpen
        }"
      >
        <ul class="py-2">
          <li *ngFor="let faculty of faculties">
            <a
              href="#"
              (click)="filterByFaculte(faculty.value); $event.preventDefault()"
              class="flex items-center gap-3 px-4 py-2.5 text-sm text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition rounded-md"
            >
              <span class="inline-flex h-8 w-8 items-center justify-center rounded-md bg-blue-100 text-blue-600">
                <i class="bi bi-building"></i>
              </span>
              <span>{{ faculty.label }}</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    
    
  </div>
</div>

<div class="adjust-content">
  <div *ngFor="let examen of examens; let i = index" class="row">
    <app-list-examen-item [examen]="examen"></app-list-examen-item>
  </div>

  <div *ngIf="!isLoading && examens.length == 0" class="h-full flex justify-center items-center">
    <h1 class="text-center text-blue-900 font-bold text-3xl mb-32">Not Found</h1>
  </div>
</div>

<nav *ngIf="this.examens.length > 0" class="flex justify-center mt-5 pb-5">
  <ul class="flex items-center -space-x-px h-8 text-sm">
    <li>
      <a
        (click)="back()"
        class="flex items-center justify-center px-3 h-8 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
      >
        <span class="sr-only">Previous</span>
        <svg
          class="w-2.5 h-2.5 rtl:rotate-180"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 6 10"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 1 1 5l4 4"
          />
        </svg>
      </a>
    </li>
    <li *ngFor="let page of [].constructor(totalPages); let i = index">
      <a
        [ngClass]="actualPage == i + 1 ? 'bg-slate-900' : 'bg-white'"
        (click)="getPage(i + 1)"
        class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
        >{{ i + 1 }}</a
      >
    </li>
    <li>
      <a
        (click)="next()"
        class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
      >
        <span class="sr-only">Next</span>
        <svg
          class="w-2.5 h-2.5 rtl:rotate-180"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 6 10"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="m1 9 4-4-4-4"
          />
        </svg>
      </a>
    </li>
  </ul>
</nav>

<app-loading *ngIf="isLoading"></app-loading>


<app-footer></app-footer>
