<div 
  id="sidebar"
  [class.minimized]="isMinimized"
  class="flex flex-col h-screen overflow-hidden bg-gray-800 text-gray-300 transition-all duration-300 ease-in-out"
  [style.width]="isMinimized ? '5rem' : '16rem'">
  
  <!-- Header avec bouton de toggle -->
  <div class="flex items-center justify-between p-4 border-b border-gray-700">
    <div class="flex items-center overflow-hidden transition-all duration-300" [class.opacity-0]="isMinimized">
      <img src="assets/images/logo_um6ss.png" alt="Logo" class="w-8 h-8 rounded-full">
      <span class="ml-3 text-lg font-semibold whitespace-nowrap">Absence App</span>
    </div>
    <button 
      (click)="toggleSidebar()"
      class="p-1 rounded-full hover:bg-gray-700 transition-colors duration-200">
      <i class="bi text-xl" [class.bi-caret-left-fill]="!isMinimized" [class.bi-caret-right-fill]="isMinimized"></i>
    </button>
  </div>

  <!-- Menu items -->
  <div class="flex-1 overflow-y-auto py-4 px-2 scrollbar-thin scrollbar-thumb-gray-600">
    <!-- Section Examens -->
    <div *ngIf="role != 'scolarite'" class="mb-6">
      <h3 class="px-3 mb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider" *ngIf="!isMinimized">Examens</h3>
      <a 
        *ngFor="let item of examensMenuItems"
        [routerLink]="item.link"
        routerLinkActive="bg-blue-600 text-white"
        class="flex items-center p-3 my-1 rounded-lg hover:bg-gray-700 transition-colors duration-200 group">
        <i class="bi text-lg mr-3 group-hover:text-white" [class]="item.icon"></i>
        <span class="text-sm whitespace-nowrap" *ngIf="!isMinimized">{{ item.title }}</span>
      </a>
    </div>

    <!-- Section Cours -->
    <div *ngIf="role == 'scolarite' || 'super-admin'" class="mb-6">
      <h3 class="px-3 mb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider" *ngIf="!isMinimized">Cours</h3>
      <a 
        *ngFor="let item of coursMenuItems"
        [routerLink]="item.link"
        routerLinkActive="bg-blue-600 text-white"
        class="flex items-center p-3 my-1 rounded-lg hover:bg-gray-700 transition-colors duration-200 group">
        <i class="bi text-lg mr-3 group-hover:text-white" [class]="item.icon"></i>
        <span class="text-sm whitespace-nowrap" *ngIf="!isMinimized">{{ item.title }}</span>
      </a>
    </div>

    <!-- Section Administration -->
    <div *ngIf="role == 'admin' || role == 'super-admin'" class="mb-6">
      <h3 class="px-3 mb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider" *ngIf="!isMinimized">Administration</h3>
      <a 
        *ngFor="let item of adminMenuItems"
        [routerLink]="item.link"
        routerLinkActive="bg-blue-600 text-white"
        class="flex items-center p-3 my-1 rounded-lg hover:bg-gray-700 transition-colors duration-200 group">
        <i class="bi text-lg mr-3 group-hover:text-white" [class]="item.icon"></i>
        <span class="text-sm whitespace-nowrap" *ngIf="!isMinimized">{{ item.title }}</span>
      </a>
    </div>
  </div>

  <!-- Footer -->
  <div class="p-4 border-t border-gray-700">
    <button 
      (click)="logout()"
      class="flex items-center w-full p-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 group">
      <i class="bi bi-box-arrow-left text-lg mr-3 group-hover:text-red-400"></i>
      <span class="text-sm whitespace-nowrap" *ngIf="!isMinimized">DÃ©connexion</span>
    </button>
  </div>
</div>