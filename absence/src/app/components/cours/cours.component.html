<div class="flex flex-col md:flex-row justify-between items-center gap-4 p-4 bg-white rounded-lg shadow-sm border border-gray-100">
  <!-- Barre de recherche élégante -->
  <div class="relative w-full md:w-auto flex-1">
    <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
      <i class="bi bi-search text-gray-400"></i>
    </div>
    <input
      #searchVal
      type="text"
      class="w-full pl-10 pr-4 py-2.5 text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"
      placeholder="Rechercher un examen..."
      (keydown.enter)="handleSearch(searchVal.value)"
    />
    <button
      (click)="handleSearch(searchVal.value)"
      class="absolute right-2.5 bottom-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-3 py-1 text-sm transition-colors"
    >
      <i class="bi bi-arrow-right"></i>
    </button>
  </div>

  <!-- Menu déroulant élégant -->
  <div *ngIf="role == 'super-admin' || role == 'admin'" class="w-full md:w-auto">
    <div class="relative inline-block text-left">
      <button
        type="button"
        (click)="toggleDropdown()"
        class="inline-flex items-center gap-2 rounded-md bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-2 text-sm font-medium text-white shadow hover:from-blue-700 hover:to-blue-600 transition"
      >
        <i class="bi bi-funnel-fill"></i>
        Filtrer par faculté
        <svg
          class="w-4 h-4 transition-transform duration-200"
          [ngClass]="{ 'rotate-180': isDropdownOpen }"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
        </svg>
      </button>
    
      <!-- Dropdown -->
      <div
        class="absolute left-1/2 transform -translate-x-1/2 mt-2 z-20 mt-2 w-64 rounded-xl bg-white shadow-xl ring-1 ring-gray-200 transition transform origin-top scale-95 opacity-0 pointer-events-none"
        [ngClass]="{
          'scale-100 opacity-100 pointer-events-auto': isDropdownOpen
        }"
      >
        <ul class="py-2">
          <li *ngFor="let faculty of faculties">
            <a
              href="#"
              (click)="filterByFaculte(faculty.value); $event.preventDefault()"
              class="flex items-center gap-3 px-4 py-2.5 text-sm text-gray-800 hover:bg-blue-50 hover:text-blue-600 transition rounded-md"
            >
              <span class="inline-flex h-8 w-8 items-center justify-center rounded-md bg-blue-100 text-blue-600">
                <i class="bi bi-building"></i>
              </span>
              <span>{{ faculty.label }}</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    
    
  </div>
</div>


<div class="min-h-screen flex flex-col">
  <!-- Main Content - flex-grow pour occuper l'espace disponible -->
  <main class="flex-grow">
    <!-- Cas où aucun cours n'est trouvé -->
    <div *ngIf="!loading && cours.length === 0" 
         class="empty-state flex flex-col justify-center items-center text-center px-4 py-32 mt-[15%]"> <!-- py-32 pour un grand espacement -->
      <div class="text-blue-600 mb-6">
        <i class="bi bi-search text-6xl"></i>
      </div>
      <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">Aucun cours trouvé</h2>
      <p class="text-gray-500 max-w-md mb-8">
        Désolé, nous n'avons trouvé aucun cours correspondant à votre recherche.
        Essayez de modifier vos critères ou vérifiez plus tard.
      </p>
      
      <!-- Espace supplémentaire avant le footer -->
      <div class="h-20"></div> <!-- Espace supplémentaire -->
    </div>

    <!-- Cas normal avec cours -->
    <div *ngIf="!loading && cours.length > 0" class="py-8 px-4">
      <div class="max-w-4xl mx-auto">
        <div class="grid grid-cols-1 gap-6">
          <div *ngFor="let coursItem of cours; trackBy: trackById">
            <app-cours-item [cours]="coursItem" class="w-full h-full"></app-cours-item>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<nav *ngIf="cours.length > 0" class="flex justify-center mt-8 pb-8">
  <ul class="flex items-center gap-1 h-10 text-sm">
    <!-- Flèche précédente -->
    <li>
      <button
        (click)="back()"
        class="flex items-center justify-center p-2 h-10 w-10 rounded-full text-gray-600 hover:bg-gray-100 transition-colors duration-200"
        [disabled]="actualPage === 1"
        [class.opacity-50]="actualPage === 1"
        [class.cursor-not-allowed]="actualPage === 1"
      >
        <span class="sr-only">Précédent</span>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
      </button>
    </li>

    <!-- Premier numéro -->
    <li *ngIf="actualPage > 2">
      <button
        (click)="getPage(1)"
        class="flex items-center justify-center h-10 w-10 rounded-full text-gray-600 hover:bg-gray-100 transition-colors duration-200"
      >
        1
      </button>
    </li>

    <!-- Points de suspension si nécessaire -->
    <li *ngIf="actualPage > 3" class="flex items-end px-1 h-10 text-gray-400">
      ...
    </li>

    <!-- Numéros centraux (toujours 3 visibles) -->
    <ng-container *ngFor="let page of getVisiblePages()">
      <li>
        <button
          (click)="getPage(page)"
          class="flex items-center justify-center h-10 w-10 rounded-full transition-colors duration-200"
          [class.bg-blue-600]="actualPage === page"
          [class.text-white]="actualPage === page"
          [class.text-gray-600]="actualPage !== page"
          [class.hover:bg-gray-100]="actualPage !== page"
        >
          {{ page }}
        </button>
      </li>
    </ng-container>

    <!-- Points de suspension si nécessaire -->
    <li *ngIf="actualPage < totalPages - 2" class="flex items-end px-1 h-10 text-gray-400">
      ...
    </li>

    <!-- Dernier numéro -->
    <li *ngIf="actualPage < totalPages - 1">
      <button
        (click)="getPage(totalPages)"
        class="flex items-center justify-center h-10 w-10 rounded-full text-gray-600 hover:bg-gray-100 transition-colors duration-200"
      >
        {{ totalPages }}
      </button>
    </li>

    <!-- Flèche suivante -->
    <li>
      <button
        (click)="next()"
        class="flex items-center justify-center p-2 h-10 w-10 rounded-full text-gray-600 hover:bg-gray-100 transition-colors duration-200"
        [disabled]="actualPage === totalPages"
        [class.opacity-50]="actualPage === totalPages"
        [class.cursor-not-allowed]="actualPage === totalPages"
      >
        <span class="sr-only">Suivant</span>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </button>
    </li>
  </ul>
</nav>

<div *ngIf="loading">
  <app-loading></app-loading>
</div> 



<app-footer></app-footer>