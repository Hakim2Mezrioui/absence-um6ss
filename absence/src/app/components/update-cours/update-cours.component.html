<div class="h-[90%] mt-4  p-6">
  <!-- Form Container with subtle animation -->
  <div class="max-w-4xl mx-auto">
    <div class="bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-500 hover:shadow-xl">
      <!-- Form Header with improved gradient -->
      <div class="bg-gradient-to-r from-green-600 to-green-700 px-6 py-5 flex items-center">
        <i class="bi bi-journal-text text-white text-xl mr-3"></i>
        <h2 class="text-xl font-semibold text-white">Modifier Cours</h2>
      </div>
      
      <!-- Form Content with improved spacing -->
      <div class="p-8">
        <form class="space-y-7" (submit)="onSubmit(f)" #f="ngForm">
          <!-- Title with floating label effect -->
          <div class="relative group">
            <div class="flex items-center mb-1.5">
              <i class="bi bi-type-h1 text-green-600 mr-2"></i>
              <label class="text-sm font-medium text-gray-700">Titre</label>
            </div>
            <input
              type="text"
              name="title"
              class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
              placeholder="Entrez le titre du cours"
              required
              [ngModel]="cours.title"
            />
            <div class="absolute bottom-0 left-0 h-0.5 bg-green-600 transform scale-x-0 group-focus-within:scale-x-100 transition-transform duration-300 origin-left"></div>
          </div>

          <!-- Date with calendar icon -->
          <div class="relative group">
            <div class="flex items-center mb-1.5">
              <i class="bi bi-calendar-event text-green-600 mr-2"></i>
              <label class="text-sm font-medium text-gray-700">Date</label>
            </div>
            <input
              type="date"
              name="date"
              required
              [ngModel]="formatDate(cours.date)"
              class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
            />
          </div>

          <!-- Time & Tolerance with improved grid -->
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Start Time -->
            <div class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-clock text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Heure de début</label>
              </div>
              <input
                type="time"
                name="hour_debut"
                required
                [ngModel]="formatTime(cours.hour_debut)"
                class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
              />
            </div>

            <!-- End Time -->
            <div class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-clock-history text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Heure de fin</label>
              </div>
              <input
                type="time"
                name="hour_fin"
                required
                [ngModel]="formatTime(cours.hour_fin)"
                class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
              />
            </div>

            <!-- Tolerance -->
            <div class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-stopwatch text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Tolérance (min)</label>
              </div>
              <input
                type="number"
                name="tolerance"
                required
                [ngModel]="cours.tolerance"
                class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
              />
            </div>
          </div>

          <!-- Faculty, Promotion, Group with improved select styling -->
          <div [ngClass]="role == 'super-admin' ? 'md:grid-cols-3' : 'md:grid-cols-2'" class="grid gap-6">
            <!-- Faculty (Super Admin only) -->
            <div *ngIf="role == 'super-admin'" class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-building text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Faculté</label>
              </div>
              <div class="relative">
                <select
                  name="faculte"
                  [ngModel]="cours.faculte"
                  #faculte
                  (change)="faculteChange(faculte.value)"
                  class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md appearance-none"
                >
                  <option value="" disabled selected>Sélectionner la faculté</option>
                  <option value="medecine">Médecine</option>
                  <option value="pharmacie">Pharmacie</option>
                  <option value="dentaire">Dentaire</option>
                  <option value="fsts">FSTS</option>
                  <option value="sante public">Santé public</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                  <i class="bi bi-chevron-down text-green-600"></i>
                </div>
              </div>
            </div>

            <!-- Promotion -->
            <div class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-mortarboard text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Promotion</label>
              </div>
              <div class="relative">
                <select
                  id="promotion"
                  name="promotion"
                  [ngModel]="cours.promotion"
                  class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md appearance-none"
                >
                  <option value="" disabled selected>Sélectionner la promotion</option>
                  <option value="1ère annee">1ère année</option>
                  <option value="2ème annee">2ème année</option>
                  <option *ngIf="selectedFaculte !== 'sante public'" value="3ème annee">3ème année</option>
                  <option *ngIf="selectedFaculte !== 'fsts' && selectedFaculte !== 'sante public'" value="4ème annee">4ème année</option>
                  <option *ngIf="selectedFaculte !== 'fsts' && selectedFaculte !== 'sante public'" value="5ème annee">5ème année</option>
                  <option *ngIf="selectedFaculte !== 'fsts' && selectedFaculte !== 'sante public'" value="6ème annee">6ème année</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                  <i class="bi bi-chevron-down text-green-600"></i>
                </div>
              </div>
            </div>

            <!-- Group -->
            <div class="relative group">
              <div class="flex items-center mb-1.5">
                <i class="bi bi-people text-green-600 mr-2"></i>
                <label class="text-sm font-medium text-gray-700">Groupe</label>
              </div>
              <input
                id="group"
                name="groupe"
                [ngModel]="cours.groupe"
                type="number"
                class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md"
                placeholder="Numéro de groupe"
              />
            </div>
          </div>

          <!-- Option Field (FSTS only) with animation -->
          <div *ngIf="selectedFaculte == 'fsts' || cours.faculte == 'fsts'" class="relative group animate-fadeIn">
            <div class="flex items-center mb-1.5">
              <i class="bi bi-list-check text-green-600 mr-2"></i>
              <label class="text-sm font-medium text-gray-700">Option</label>
            </div>
            <div class="relative">
              <select
                id="underline_select"
                name="option"
                [ngModel]="cours.option"
                class="w-full px-3 py-2.5 border-b-2 border-gray-300 focus:outline-none focus:border-green-600 transition-all duration-300 bg-gray-50 rounded-t-md appearance-none"
              >
                <option value="" disabled selected>Sélectionner l'option</option>
                <option [selected]="cours.option == 'LPIP'" value="LPIP">Infirmier Polyvalent</option>
                <option [selected]="cours.option == 'LPINP'" value="LPINP">Infirmier en Néonatologie et Pédiatrie</option>
                <option [selected]="cours.option == 'LPIBO'" value="LPIBO">Infirmier au Bloc Opératoire</option>
                <option [selected]="cours.option == 'LPIAR'" value="LPIAR">Infirmier en Anesthésie Réanimation</option>
                <option [selected]="cours.option == 'LPOR'" value="LPOR">Orthophonie</option>
                <option [selected]="cours.option == 'LPOT'" value="LPOT">Orthoptie</option>
                <option [selected]="cours.option == 'LPPSY'" value="LPPSY">Psychomotricité</option>
                <option [selected]="cours.option == 'LPKIN'" value="LPKIN">Kinésithérapie</option>
                <option [selected]="cours.option == 'LPIM'" value="LPIM">Imagerie Médicale</option>
                <option [selected]="cours.option == 'LPTL'" value="LPTL">Technicien de Laboratoire</option>
                <option [selected]="cours.option == 'LPDN'" value="LPDN">Nutrition et Diététique</option>
                <option [selected]="cours.option == 'LPSF'" value="LPSF">Sage-femme</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <i class="bi bi-chevron-down text-green-600"></i>
              </div>
            </div>
          </div>

          <!-- Submit Button with improved animation -->
          <div class="pt-6">
            <button
              type="submit"
              class="group w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-medium py-3.5 px-4 rounded-lg shadow-md transition-all duration-300 hover:shadow-lg transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50"
            >
              <div class="flex items-center justify-center space-x-2">
                <i class="bi bi-save transition-transform duration-300 group-hover:scale-110"></i>
                <span>Mettre à jour</span>
              </div>
            </button>
          </div>
        </form>
      </div>
    </div>
    
    <!-- Form footer with help text -->
    <div class="mt-4 text-center text-sm text-gray-500">
      <p>Tous les champs marqués sont obligatoires</p>
    </div>
  </div>
</div>

<!-- Improved loading overlay with animation -->
<app-loading *ngIf="loading"></app-loading>